{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGeolocated = void 0;\n\nconst react_1 = require(\"react\");\n/**\n * Hook abstracting away the interaction with the Geolocation API.\n * @param config - the configuration to use\n */\n\n\nfunction useGeolocated() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    positionOptions = {\n      enableHighAccuracy: true,\n      maximumAge: 0,\n      timeout: Infinity\n    },\n    isOptimisticGeolocationEnabled = true,\n    userDecisionTimeout = undefined,\n    suppressLocationOnMount = false,\n    watchPosition = false,\n    geolocationProvider = typeof navigator !== \"undefined\" ? navigator.geolocation : undefined,\n    onError,\n    onSuccess\n  } = config;\n  const userDecisionTimeoutId = (0, react_1.useRef)(0);\n  const isCurrentlyMounted = (0, react_1.useRef)(true);\n  const watchId = (0, react_1.useRef)(0);\n  const [isGeolocationEnabled, setIsGeolocationEnabled] = (0, react_1.useState)(isOptimisticGeolocationEnabled);\n  const [coords, setCoords] = (0, react_1.useState)();\n  const [timestamp, setTimestamp] = (0, react_1.useState)();\n  const [positionError, setPositionError] = (0, react_1.useState)();\n  const cancelUserDecisionTimeout = (0, react_1.useCallback)(() => {\n    if (userDecisionTimeoutId.current) {\n      window.clearTimeout(userDecisionTimeoutId.current);\n    }\n  }, []);\n  const handlePositionError = (0, react_1.useCallback)(error => {\n    cancelUserDecisionTimeout();\n\n    if (isCurrentlyMounted.current) {\n      setCoords(() => undefined);\n      setIsGeolocationEnabled(false);\n      setPositionError(error);\n    }\n\n    onError === null || onError === void 0 ? void 0 : onError(error);\n  }, [onError, cancelUserDecisionTimeout]);\n  const handlePositionSuccess = (0, react_1.useCallback)(position => {\n    cancelUserDecisionTimeout();\n\n    if (isCurrentlyMounted.current) {\n      setCoords(position.coords);\n      setTimestamp(position.timestamp);\n      setIsGeolocationEnabled(true);\n      setPositionError(() => undefined);\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(position);\n  }, [onSuccess, cancelUserDecisionTimeout]);\n  const getPosition = (0, react_1.useCallback)(() => {\n    if (!geolocationProvider || !geolocationProvider.getCurrentPosition || !geolocationProvider.watchPosition) {\n      throw new Error(\"The provided geolocation provider is invalid\");\n    }\n\n    const funcPosition = (watchPosition ? geolocationProvider.watchPosition : geolocationProvider.getCurrentPosition).bind(geolocationProvider);\n\n    if (userDecisionTimeout) {\n      userDecisionTimeoutId.current = window.setTimeout(() => {\n        handlePositionError();\n      }, userDecisionTimeout);\n    }\n\n    watchId.current = funcPosition(handlePositionSuccess, handlePositionError, positionOptions);\n  }, [geolocationProvider, watchPosition, userDecisionTimeout, handlePositionError, handlePositionSuccess, positionOptions]);\n  (0, react_1.useEffect)(() => {\n    if (!suppressLocationOnMount) {\n      getPosition();\n    }\n\n    return () => {\n      cancelUserDecisionTimeout();\n\n      if (watchPosition && watchId.current) {\n        geolocationProvider === null || geolocationProvider === void 0 ? void 0 : geolocationProvider.clearWatch(watchId.current);\n      }\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return {\n    getPosition,\n    coords,\n    timestamp,\n    isGeolocationEnabled,\n    isGeolocationAvailable: Boolean(geolocationProvider),\n    positionError\n  };\n}\n\nexports.useGeolocated = useGeolocated;","map":{"version":3,"names":["Object","defineProperty","exports","value","useGeolocated","react_1","require","config","positionOptions","enableHighAccuracy","maximumAge","timeout","Infinity","isOptimisticGeolocationEnabled","userDecisionTimeout","undefined","suppressLocationOnMount","watchPosition","geolocationProvider","navigator","geolocation","onError","onSuccess","userDecisionTimeoutId","useRef","isCurrentlyMounted","watchId","isGeolocationEnabled","setIsGeolocationEnabled","useState","coords","setCoords","timestamp","setTimestamp","positionError","setPositionError","cancelUserDecisionTimeout","useCallback","current","window","clearTimeout","handlePositionError","error","handlePositionSuccess","position","getPosition","getCurrentPosition","Error","funcPosition","bind","setTimeout","useEffect","clearWatch","isGeolocationAvailable","Boolean"],"sources":["C:/Users/lelic/Desktop/FiveStar-Booking/frontend/node_modules/react-geolocated/dist-modules/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useGeolocated = void 0;\nconst react_1 = require(\"react\");\n/**\n * Hook abstracting away the interaction with the Geolocation API.\n * @param config - the configuration to use\n */\nfunction useGeolocated(config = {}) {\n    const { positionOptions = {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: Infinity,\n    }, isOptimisticGeolocationEnabled = true, userDecisionTimeout = undefined, suppressLocationOnMount = false, watchPosition = false, geolocationProvider = typeof navigator !== \"undefined\"\n        ? navigator.geolocation\n        : undefined, onError, onSuccess, } = config;\n    const userDecisionTimeoutId = (0, react_1.useRef)(0);\n    const isCurrentlyMounted = (0, react_1.useRef)(true);\n    const watchId = (0, react_1.useRef)(0);\n    const [isGeolocationEnabled, setIsGeolocationEnabled] = (0, react_1.useState)(isOptimisticGeolocationEnabled);\n    const [coords, setCoords] = (0, react_1.useState)();\n    const [timestamp, setTimestamp] = (0, react_1.useState)();\n    const [positionError, setPositionError] = (0, react_1.useState)();\n    const cancelUserDecisionTimeout = (0, react_1.useCallback)(() => {\n        if (userDecisionTimeoutId.current) {\n            window.clearTimeout(userDecisionTimeoutId.current);\n        }\n    }, []);\n    const handlePositionError = (0, react_1.useCallback)((error) => {\n        cancelUserDecisionTimeout();\n        if (isCurrentlyMounted.current) {\n            setCoords(() => undefined);\n            setIsGeolocationEnabled(false);\n            setPositionError(error);\n        }\n        onError === null || onError === void 0 ? void 0 : onError(error);\n    }, [onError, cancelUserDecisionTimeout]);\n    const handlePositionSuccess = (0, react_1.useCallback)((position) => {\n        cancelUserDecisionTimeout();\n        if (isCurrentlyMounted.current) {\n            setCoords(position.coords);\n            setTimestamp(position.timestamp);\n            setIsGeolocationEnabled(true);\n            setPositionError(() => undefined);\n        }\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(position);\n    }, [onSuccess, cancelUserDecisionTimeout]);\n    const getPosition = (0, react_1.useCallback)(() => {\n        if (!geolocationProvider ||\n            !geolocationProvider.getCurrentPosition ||\n            !geolocationProvider.watchPosition) {\n            throw new Error(\"The provided geolocation provider is invalid\");\n        }\n        const funcPosition = (watchPosition\n            ? geolocationProvider.watchPosition\n            : geolocationProvider.getCurrentPosition).bind(geolocationProvider);\n        if (userDecisionTimeout) {\n            userDecisionTimeoutId.current = window.setTimeout(() => {\n                handlePositionError();\n            }, userDecisionTimeout);\n        }\n        watchId.current = funcPosition(handlePositionSuccess, handlePositionError, positionOptions);\n    }, [\n        geolocationProvider,\n        watchPosition,\n        userDecisionTimeout,\n        handlePositionError,\n        handlePositionSuccess,\n        positionOptions,\n    ]);\n    (0, react_1.useEffect)(() => {\n        if (!suppressLocationOnMount) {\n            getPosition();\n        }\n        return () => {\n            cancelUserDecisionTimeout();\n            if (watchPosition && watchId.current) {\n                geolocationProvider === null || geolocationProvider === void 0 ? void 0 : geolocationProvider.clearWatch(watchId.current);\n            }\n        };\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        getPosition,\n        coords,\n        timestamp,\n        isGeolocationEnabled,\n        isGeolocationAvailable: Boolean(geolocationProvider),\n        positionError,\n    };\n}\nexports.useGeolocated = useGeolocated;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}